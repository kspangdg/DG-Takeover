class DG_Takeover{constructor(t,e){this.id=t,this.defaults={duration:.5},this.settings=Object.assign({},this.defaults,e),this.step_duration=1e3*this.settings.duration,this.events=[new Event("dg_takeover_init"),new Event("dg_takeover_opening"),new Event("dg_takeover_open"),new Event("dg_takeover_closing"),new Event("dg_takeover_close"),new Event("dg_takeover_toggle"),new Event("dg_takeover_toggle_open"),new Event("dg_takeover_toggle_close")],this.toggle_buttons=document.querySelectorAll('[data-dgtakeover-toggle="'+this.id+'"]')||[],this.menu=document.querySelector('[data-dgtakeover-menu="'+this.id+'"]')||null,console.log("DG_Takeover: Initializing Takeover with ID:",this.id),this.html=document.querySelector("html")||null,this.body=document.querySelector("body")||null,this.is_animating=!1,this.is_open=!1,this.init()}toggle_takeover(t=0){if(this.is_animating=!0,1===t?this.is_open=!1:2===t&&(this.is_open=!0),this.is_open){document.dispatchEvent(this.events[3]),this.menu.classList.remove("takeover__open");for(let t=0;t<this.toggle_buttons.length;t++)this.toggle_buttons[t].classList.remove("takeover__open");setTimeout((()=>{this.menu.classList.remove("takeover__opening"),this.menu.setAttribute("aria-hidden","true");for(let t=0;t<this.toggle_buttons.length;t++)this.toggle_buttons[t].classList.remove("takeover__opening"),this.toggle_buttons[t].setAttribute("aria-expanded","false");this.html.classList.remove("js-no-scroll"),this.body.classList.remove("js-no-scroll"),this.is_open=!1,this.is_animating=!1,document.dispatchEvent(this.events[4])}),this.step_duration)}else{document.dispatchEvent(this.events[1]),this.html.classList.add("js-no-scroll"),this.body.classList.add("js-no-scroll"),this.menu.classList.add("takeover__opening");for(let t=0;t<this.toggle_buttons.length;t++)this.toggle_buttons[t].classList.add("takeover__opening");setTimeout((()=>{this.menu.classList.add("takeover__open"),this.menu.setAttribute("aria-hidden","false");for(let t=0;t<this.toggle_buttons.length;t++)this.toggle_buttons[t].classList.add("takeover__open"),this.toggle_buttons[t].setAttribute("aria-expanded","true");this.is_open=!0,this.is_animating=!1,document.dispatchEvent(this.events[2])}),this.step_duration)}}bind_events(){for(let t=0;t<this.toggle_buttons.length;t++)this.toggle_buttons[t].addEventListener("click",(t=>{!0!==this.is_animating&&this.toggle_takeover()})),this.toggle_buttons[t].addEventListener("keyup",(t=>{if(t.preventDefault(),"Enter"===t.key||" "===t.key){if(!0===this.is_animating)return;this.toggle_takeover()}}));document.addEventListener("keydown",(t=>{if("Escape"===t.key&&this.is_open){if(!0===this.is_animating)return;if(!this.is_open)return;this.toggle_takeover(2)}})),document.addEventListener("dg_takeover_toggle",(t=>{this.toggle_takeover()})),document.addEventListener("dg_takeover_toggle_open",(t=>{this.is_open||this.toggle_takeover(1)})),document.addEventListener("dg_takeover_toggle_close",(t=>{this.is_open&&this.toggle_takeover(2)}))}init(){if(null!==this.html)if(null!==this.body)if(this.toggle_buttons<0||null===this.toggle_buttons)console.error("DG_Takeover: [data-dgtakeover-toggle] not found. (dg_takeover.js:142)");else if(null!==this.menu){for(let t=0;t<this.toggle_buttons.length;t++)this.toggle_buttons[t].setAttribute("role","button"),this.toggle_buttons[t].setAttribute("aria-haspopup","true"),this.toggle_buttons[t].setAttribute("aria-expanded","false"),this.toggle_buttons[t].setAttribute("aria-controls",this.id),this.toggle_buttons[t].setAttribute("tabindex","0");this.menu.setAttribute("role","navigation"),this.menu.setAttribute("aria-hidden","true"),this.menu.setAttribute("aria-label","Takeover Navigation"),document.dispatchEvent(this.events[0]),this.bind_events()}else console.error("DG_Takeover: [data-dgtakeover-menu] not found. (dg_takeover.js:146)");else console.error("DG_Takeover: body not found. (dg_takeover.js:138)");else console.error("DG_Takeover: html not found. (dg_takeover.js:134)")}}